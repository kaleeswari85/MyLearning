{
	"name": "SQL script 2",
	"properties": {
		"content": {
			"query": "-- This is auto-generated code\nCREATE EXTERNAL FILE FORMAT csv_format\nWITH (\n    FORMAT_TYPE = DELIMITEDTEXT,\n    FORMAT_OPTIONS (\n        FIELD_TERMINATOR = ',',\n        STRING_DELIMITER = '\"',\n        FIRST_ROW = 2\n    )\n);\nGO\n\n\nCREATE EXTERNAL DATA SOURCE eds_retail_raw\n    WITH (\n        LOCATION = 'https://kals85swsdatalake.dfs.core.windows.net/raw'\n    );\nGO\n \n\n CREATE EXTERNAL TABLE [dbo].[Ext_Retail_Transactions] (\n    [TransactionID] VARCHAR(50),\n    [CustomerID]    VARCHAR(50),\n    [AccountID]     VARCHAR(50),\n    [TransactionDT] DATETIME2,\n    [Amount]        DECIMAL(18,2),\n    [Category]      VARCHAR(50),\n    [Channel]       VARCHAR(20),\n    [Region]        VARCHAR(10),\n    [FraudFlag]     INT,\n    [Score]         DECIMAL(5,4)\n)\nWITH (\n    LOCATION = 'transactions.csv',\n    DATA_SOURCE = eds_retail_raw,\n    FILE_FORMAT = csv_format -- Assumes you created this in your previous step\n);\nGO",
			"metadata": {
				"language": "sql"
			},
			"currentConnection": {
				"databaseName": "retail_db",
				"poolName": "Built-in"
			},
			"resultLimit": 5000
		},
		"type": "SqlQuery"
	}
}